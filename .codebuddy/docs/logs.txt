Performing hot restart...
Syncing files to device Pixel 3a...
Restarted application in 1,420ms.
I/flutter (31667): Initializing logging service...
I/flutter (31667): 23:55:23 📘 [logging_service] ℹ️ Logging service initialized successfully
I/flutter (31667): 23:55:23 📘 [main] ℹ️ Application starting...
I/flutter (31667): 23:55:23 🔍 [main] 🔍 Initializing core services...
I/flutter (31667): Initializing BLE Service
I/flutter (31667): 23:55:24 🔍 [app_bloc_observer] 🔍 Event: FetchNecklacesEvent()
I/flutter (31667): 23:55:24 🔍 [app_bloc_observer] 🔍 Event: FetchNecklacesEvent()
I/flutter (31667): 23:55:25 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: NecklacesInitial(), event: FetchNecklacesEvent(), nextState: NecklacesLoading() }
I/flutter (31667): 23:55:25 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: NecklacesInitial(), nextState: NecklacesLoading() }
I/flutter (31667): 23:55:25 🚨 [necklace] ❌ Error parsing heart rate monitor data: FormatException: Unexpected character (at character 2)
I/flutter (31667): {deviceType=necklace, rssi=-66, address=D4:25:CB:B4:D0:52, name=Calming Nec...
I/flutter (31667):  ^
I/flutter (31667): 23:55:25 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: NecklacesLoading(), event: FetchNecklacesEvent(), nextState: NecklacesLoaded([Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)]) }
I/flutter (31667): 23:55:25 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: NecklacesLoading(), nextState: NecklacesLoaded([Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)]) }
I/flutter (31667): 23:55:25 🚨 [necklace] ❌ Error parsing heart rate monitor data: FormatException: Unexpected character (at character 2)
I/flutter (31667): {deviceType=necklace, rssi=-66, address=D4:25:CB:B4:D0:52, name=Calming Nec...
I/flutter (31667):  ^
I/flutter (31667): 23:55:25 🔍 [timed_toggle_button_bloc] 🔍 Initializing TimedToggleButtonBloc with necklace state: false
I/flutter (31667): 23:55:26 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: TimedToggleButtonInitial(), nextState: TimedToggleButtonInitialized() }
I/flutter (31667): 23:55:26 🔍 [timed_toggle_button] 🔍 Building TimedToggleButton: isLightOn: false, timeLeft: 
I/flutter (31667): 23:55:26 🚨 [necklace] ❌ Error parsing heart rate monitor data: FormatException: Unexpected character (at character 2)
I/flutter (31667): {deviceType=necklace, rssi=-66, address=D4:25:CB:B4:D0:52, name=Calming Nec...
I/flutter (31667):  ^
I/flutter (31667): 23:55:26 🔍 [timed_toggle_button] 🔍 Building TimedToggleButton: isLightOn: false, timeLeft: 
I/flutter (31667): 23:55:31 🔍 [app_bloc_observer] 🔍 Event: RefreshSettings(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60))
I/flutter (31667): 23:55:32 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null), event: RefreshSettings(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)), nextState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null
I/flutter (31667): 23:55:32 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null), nextState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null) }
I/flutter (31667): 23:55:32 🚨 [necklace] ❌ Error parsing heart rate monitor data: FormatException: Unexpected character (at character 2)
I/flutter (31667): {deviceType=necklace, rssi=-66, address=D4:25:CB:B4:D0:52, name=Calming Nec...
I/flutter (31667):  ^
I/flutter (31667): 23:55:32 🔍 [database_service] 🔍 Retrieved necklace services: 0
I/flutter (31667): 23:55:32 🔍 [app_bloc_observer] 🔍 Event: RefreshSettings(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60))
I/flutter (31667): 23:55:32 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null), event: RefreshSettings(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)), nextState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null
I/flutter (31667): 23:55:32 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null), nextState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null) }
I/flutter (31667): 23:55:35 🔍 [app_bloc_observer] 🔍 Event: StartScanning()
I/flutter (31667): 23:55:35 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: DeviceSelectorState([], null, false, true, null), event: StartScanning(), nextState: DeviceSelectorState([], null, true, false, null) }
I/flutter (31667): 23:55:35 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: DeviceSelectorState([], null, false, true, null), nextState: DeviceSelectorState([], null, true, false, null) }
I/flutter (31667): 23:55:35 🔍 [device_selector_bloc] 🔍 Starting BLE scan for devices
I/flutter (31667): 23:55:35 🔍 [ble_repository] 🔍 Starting Bluetooth Low Energy scan
D/[FBP-Android](31667): [FBP] onMethodCall: flutterRestart
D/[FBP-Android](31667): [FBP] disconnectAllDevices(flutterRestart)
D/[FBP-Android](31667): [FBP] connectedPeripherals: 0
D/[FBP-Android](31667): [FBP] onMethodCall: turnOn
I/flutter (31667): 23:55:35 🔍 [ble_repository] 🔍 Cleared discovered devices
D/[FBP-Android](31667): [FBP] onMethodCall: startScan
D/BluetoothAdapter(31667): isLeEnabled(): ON
D/BluetoothLeScanner(31667): onScannerRegistered() - status=0 scannerId=7 mScannerId=0
I/flutter (31667): 23:55:35 🔍 [device_selector_bloc] 🔍 Setting up auto-stop timer for scan
I/flutter (31667): 23:55:35 🔍 [app_bloc_observer] 🔍 Event: DevicesUpdated([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0)])
I/flutter (31667): 23:55:35 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: DeviceSelectorState([], null, true, false, null), event: DevicesUpdated([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0)]), nextState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0)], null, true, false, null) }
I/flutter (31667): 23:55:35 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: DeviceSelectorState([], null, true, false, null), nextState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0)], null, true, false, null) }
I/flutter (31667): 23:55:36 🔍 [app_bloc_observer] 🔍 Event: DevicesUpdated([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0)])
I/flutter (31667): 23:55:36 🔍 [app_bloc_observer] 🔍 Event: DevicesUpdated([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0)])
I/flutter (31667): 23:55:36 🔍 [app_bloc_observer] 🔍 Event: DevicesUpdated([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 02:00:74:01:0C:A4, name: M4, address: 02:00:74:01:0C:A4, rssi: -69, type: BleDeviceType.heartRateMonitor, services: 0)])
I/flutter (31667): 23:55:39 🔍 [app_bloc_observer] 🔍 Event: DevicesUpdated([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 02:00:74:01:0C:A4, name: M4, address: 02:00:74:01:0C:A4, rssi: -69, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 50:14:79:B8:09:16, name: j755020, address: 50:14:79:B8:09:16, rssi: -93, type: BleDeviceType.heartRateMonitor, services: 0)])
D/[FBP-Android](31667): [FBP] onMethodCall: stopScan
D/BluetoothAdapter(31667): isLeEnabled(): ON
I/flutter (31667): 23:55:45 🔍 [app_bloc_observer] 🔍 Event: StopScanning()
I/flutter (31667): [FBP] stopScan: already stopped
I/flutter (31667): 23:55:45 🔍 [ble_repository] 🔍 Stopped Bluetooth Low Energy scan
I/flutter (31667): 23:55:45 🔍 [device_selector_bloc] 🔍 Stopped BLE scan
I/flutter (31667): 23:55:45 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 02:00:74:01:0C:A4, name: M4, address: 02:00:74:01:0C:A4, rssi: -69, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 50:14:79:B8:09:16, name: j755020, address: 50:14:79:B8:09:16, rssi: -93, type: BleDeviceType.heartRateMonitor, services: 0)], null, true, false, null), event: StopScanning(), nextState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 
I/flutter (31667): 23:55:45 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 02:00:74:01:0C:A4, name: M4, address: 02:00:74:01:0C:A4, rssi: -69, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 50:14:79:B8:09:16, name: j755020, address: 50:14:79:B8:09:16, rssi: -93, type: BleDeviceType.heartRateMonitor, services: 0)], null, true, false, null), nextState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D

======== Exception caught by rendering library =====================================================
The following assertion was thrown during layout:
A RenderFlex overflowed by 8.0 pixels on the bottom.

The relevant error-causing widget was: 
  Column Column:file:///C:/Users/hight/StudioProjects/calming_necklace/lib/features/add_device_dialog/widgets/device_selector.dart:67:16
The overflowing RenderFlex has an orientation of Axis.vertical.
The edge of the RenderFlex that is overflowing has been marked in the rendering with a yellow and black striped pattern. This is usually caused by the contents being too big for the RenderFlex.

Consider applying a flex factor (e.g. using an Expanded widget) to force the children of the RenderFlex to fit within the available space instead of being sized to their natural size.
This is considered an error condition because it indicates that there is content that cannot be seen. If the content is legitimately bigger than the available space, consider clipping it with a ClipRect widget before putting it in the flex, or using a scrollable container rather than a Flex, like a ListView.

The specific RenderFlex in question is: RenderFlex#96d2c OVERFLOWING
...  needs compositing
...  parentData: offset=Offset(0.0, 86.0); flex=1; fit=FlexFit.tight (can use size)
...  constraints: BoxConstraints(w=264.7, h=318.0)
...  size: Size(264.7, 318.0)
...  direction: vertical
...  mainAxisAlignment: start
...  mainAxisSize: min
...  crossAxisAlignment: center
...  verticalDirection: down
...  spacing: 0.0
◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤
====================================================================================================
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Event: SelectDevice(BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0))
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Event: BleConnectRequest(BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0))
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 02:00:74:01:0C:A4, name: M4, address: 02:00:74:01:0C:A4, rssi: -69, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 50:14:79:B8:09:16, name: j755020, address: 50:14:79:B8:09:16, rssi: -93, type: BleDeviceType.heartRateMonitor, services: 0)], null, false, false, null), event: SelectDevice(BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0)), nextState: DeviceSelectorState([BleDev
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), BleDevice(id: DE:2B:04:37:8E:F7, name: H96, address: DE:2B:04:37:8E:F7, rssi: -54, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 02:00:74:01:0C:A4, name: M4, address: 02:00:74:01:0C:A4, rssi: -69, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: 50:14:79:B8:09:16, name: j755020, address: 50:14:79:B8:09:16, rssi: -93, type: BleDeviceType.heartRateMonitor, services: 0)], null, false, false, null), nextState: DeviceSelectorState([BleDevice(id: A4:C1:38:D0:F3:66, name: Minger_H6001_F366, address: A4:C1:38:D0:F3:66, rssi: -65, type: BleDeviceType.heartRateMonitor, services: 0), BleDevice(id: D4:25:CB:B4:
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Event: BleConnectRequest(BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0))
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: BleState({}, {}, {}, {}, null, false, initial, 0, null, false), event: BleConnectRequest(BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0)), nextState: BleState({}, {}, {}, {}, null, true, initial, 0, null, false) }
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({}, {}, {}, {}, null, false, initial, 0, null, false), nextState: BleState({}, {}, {}, {}, null, true, initial, 0, null, false) }
I/flutter (31667): 23:55:47 📘 [logging_service] ℹ️ 🔵 Attempting to connect and initialize device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:47 📘 [logging_service] ℹ️ 🔵 Attempting to connect to Calming Necklace
I/flutter (31667): 23:55:47 📘 [logging_service] ℹ️ 🔵 Starting connection attempt to Calming Necklace
I/flutter (31667): 23:55:47 🔍 [logging_service] 🔍 🔵 Connection attempt 1 of 5
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({}, {}, {}, {}, null, true, initial, 0, null, false), nextState: BleState({}, {}, {}, {}, null, true, Connecting..., 0, null, false) }
D/[FBP-Android](31667): [FBP] onMethodCall: connect
D/BluetoothGatt(31667): connect() - device: D4:25:CB:B4:D0:52, auto: false
D/BluetoothGatt(31667): registerApp()
D/BluetoothGatt(31667): registerApp() - UUID=31af4b38-260a-414e-bb47-649b37885e85
D/BluetoothGatt(31667): onClientRegistered() - status=0 clientIf=7
I/flutter (31667): 23:55:47 🔍 [timed_toggle_button] 🔍 Building TimedToggleButton: isLightOn: false, timeLeft: 
I/flutter (31667): 23:55:47 🔍 [app_bloc_observer] 🔍 Event: StopScanning()
I/flutter (31667): [FBP] stopScan: already stopped
I/flutter (31667): 23:55:47 🔍 [ble_repository] 🔍 Stopped Bluetooth Low Energy scan
I/flutter (31667): 23:55:47 🔍 [device_selector_bloc] 🔍 Stopped BLE scan
D/[FBP-Android](31667): [FBP] onMethodCall: getAdapterState
D/BluetoothGatt(31667): onClientConnectionState() - status=0 clientIf=7 device=D4:25:CB:B4:D0:52
D/[FBP-Android](31667): [FBP] onConnectionStateChange:connected
D/[FBP-Android](31667): [FBP]   status: SUCCESS
I/flutter (31667): 23:55:48 🔍 [logging_service] 🔍 🔵 Waiting for connection stabilization
I/flutter (31667): 23:55:48 🔍 [database_service] 🔍 BleDevice data not present or in unexpected format
I/flutter (31667): *** WARNING ***
I/flutter (31667): 
I/flutter (31667): Invalid argument {id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, deviceType: necklace, services: null} with type _Map<String, dynamic>.
I/flutter (31667): Only num, String and Uint8List are supported. See https://github.com/tekartik/sqflite/blob/master/sqflite/doc/supported_types.md for details
I/flutter (31667): 
I/flutter (31667): This will throw an exception in the future. For now it is displayed once per type.
I/flutter (31667): 
I/flutter (31667):     
I/flutter (31667): #0      _checkArg (package:sqflite_common/src/value_utils.dart:30:7)
I/flutter (31667): #1      checkNonNullValue (package:sqflite_common/src/value_utils.dart:51:5)
I/flutter (31667): #2      new SqlBuilder.update (package:sqflite_common/src/sql_builder.dart:235:9)
I/flutter (31667): #3      SqfliteDatabaseExecutorMixin.update (package:sqflite_common/src/database_mixin.dart:206:32)
I/flutter (31667): #4      DatabaseService.updateNecklaceSettings (package:calming_necklace/core/services/database_service.dart:276:16)
I/flutter (31667): <asynchronous suspension>
I/flutter (31667): #5      _SettingsContentState._buildHeartRateSection.<anonymous closure>.<anonymous closure> (package:calming_necklace/features/device_settings_screen/presentation/settings_screen.dart:405:25)
I/flutter (31667): <asynchronous suspension>
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Event: RefreshSettings(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60))
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Event: FetchNecklacesEvent()
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null), event: RefreshSettings(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)), nextState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, s
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null), nextState: SettingsState(Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0), false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60), false, false, null) }
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: NecklacesLoaded([Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)]), event: FetchNecklacesEvent(), nextState: NecklacesLoading() }
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: NecklacesLoaded([Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)]), nextState: NecklacesLoading() }
D/BluetoothGatt(31667): onConnectionUpdated() - Device=D4:25:CB:B4:D0:52 interval=6 latency=0 timeout=500 status=0
I/flutter (31667): 23:55:48 🚨 [necklace] ❌ Error parsing heart rate monitor data: FormatException: Unexpected character (at character 2)
I/flutter (31667): {deviceType=necklace, rssi=-51, address=D4:25:CB:B4:D0:52, name=Calming Nec...
I/flutter (31667):  ^
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: NecklacesLoading(), event: FetchNecklacesEvent(), nextState: NecklacesLoaded([Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)]) }
I/flutter (31667): 23:55:48 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: NecklacesLoading(), nextState: NecklacesLoaded([Necklace(2025-02-25 23:24:31.934680, tyyyu, BleDevice(id: 02:00:74:01:0C:A4, name: Default Name, address: 00:00:00:00:00:00, rssi: 0, type: BleDeviceType.necklace, services: 0), null, false, 0:00:03.000000, 0:00:20.000000, false, false, false, false, false, null, false, 120, 60)]) }
I/flutter (31667): 23:55:48 📘 [logging_service] ℹ️ 🔵 Successfully connected to Calming Necklace
I/flutter (31667): 23:55:48 🔍 [logging_service] 🔍 🔵 Setting up connection monitoring
I/flutter (31667): 23:55:49 🔍 [logging_service] 🔍 🔵 Connection state changed: BluetoothConnectionState.connected
D/[FBP-Android](31667): [FBP] onMethodCall: discoverServices
D/BluetoothGatt(31667): discoverServices() - device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:49 🔍 [timed_toggle_button_bloc] 🔍 Initializing TimedToggleButtonBloc with necklace state: false
I/flutter (31667): 23:55:49 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: TimedToggleButtonInitial(), nextState: TimedToggleButtonInitialized() }
I/flutter (31667): 23:55:49 🔍 [timed_toggle_button] 🔍 Building TimedToggleButton: isLightOn: false, timeLeft: 
I/flutter (31667): 23:55:49 🚨 [necklace] ❌ Error parsing heart rate monitor data: FormatException: Unexpected character (at character 2)
I/flutter (31667): {deviceType=necklace, rssi=-51, address=D4:25:CB:B4:D0:52, name=Calming Nec...
I/flutter (31667):  ^
D/BluetoothGatt(31667): onSearchComplete() = Device=D4:25:CB:B4:D0:52 Status=0
D/[FBP-Android](31667): [FBP] onServicesDiscovered:
D/[FBP-Android](31667): [FBP]   count: 4
D/[FBP-Android](31667): [FBP]   status: 0GATT_SUCCESS
D/BluetoothGatt(31667): onConnectionUpdated() - Device=D4:25:CB:B4:D0:52 interval=36 latency=0 timeout=500 status=0
D/[FBP-Android](31667): [FBP] onMethodCall: setNotifyValue
D/BluetoothGatt(31667): setCharacteristicNotification() - uuid: 00002a05-0000-1000-8000-00805f9b34fb enable: true
D/[FBP-Android](31667): [FBP] onDescriptorWrite:
D/[FBP-Android](31667): [FBP]   chr: 2a05
D/[FBP-Android](31667): [FBP]   desc: 2902
D/[FBP-Android](31667): [FBP]   status: GATT_SUCCESS (0)
D/[FBP-Android](31667): [FBP] onMethodCall: setNotifyValue
D/BluetoothGatt(31667): setCharacteristicNotification() - uuid: 00002a3b-0000-1000-8000-00805f9b34fb enable: true
D/[FBP-Android](31667): [FBP] onDescriptorWrite:
D/[FBP-Android](31667): [FBP]   chr: 2a3b
D/[FBP-Android](31667): [FBP]   desc: 2902
D/[FBP-Android](31667): [FBP]   status: GATT_SUCCESS (0)
I/flutter (31667): 23:55:49 📘 [logging_service] ℹ️ 🔵 Starting connection maintenance for Calming Necklace
I/flutter (31667): 23:55:49 📘 [logging_service] ℹ️ 🔵 Successfully connected to Calming Necklace
I/flutter (31667): 23:55:49 📘 [logging_service] ℹ️ 🔵 Starting service discovery for device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:49 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({}, {}, {}, {}, null, true, Connecting..., 0, null, false), nextState: BleState({D4:25:CB:B4:D0:52: false}, {}, {}, {}, null, true, Connecting..., 0, null, false) }
I/flutter (31667): 23:55:49 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({D4:25:CB:B4:D0:52: false}, {}, {}, {}, null, true, Connecting..., 0, null, false), nextState: BleState({D4:25:CB:B4:D0:52: false}, {}, {}, {}, null, true, Connection unstable, 0, null, false) }
I/flutter (31667): 23:55:49 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({D4:25:CB:B4:D0:52: false}, {}, {}, {}, null, true, Connection unstable, 0, null, false), nextState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, true, Connection unstable, 0, null, false) }
I/flutter (31667): 23:55:49 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, true, Connection unstable, 0, null, false), nextState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, true, Connected, 0, null, false) }
D/[FBP-Android](31667): [FBP] onMethodCall: discoverServices
D/BluetoothGatt(31667): discoverServices() - device: D4:25:CB:B4:D0:52
D/BluetoothGatt(31667): onSearchComplete() = Device=D4:25:CB:B4:D0:52 Status=0
D/[FBP-Android](31667): [FBP] onServicesDiscovered:
D/[FBP-Android](31667): [FBP]   count: 4
D/[FBP-Android](31667): [FBP]   status: 0GATT_SUCCESS
I/flutter (31667): 23:55:49 🔍 [timed_toggle_button] 🔍 Building TimedToggleButton: isLightOn: false, timeLeft: 
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Discovered services for device Calming Necklace:
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Service UUID: 1800
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a00
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: read
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a01
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: read
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Service UUID: 1801
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a05
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: indicate
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Service UUID: 19b10000-e8f2-537e-4f6c-d104768a1214
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 19b10001-e8f2-537e-4f6c-d104768a1214
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: read, write, notify
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a3b
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: read, write, notify
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Service UUID: 19b10000-e8f2-537e-4f6c-d104768a1214
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a19
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: 
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a1b
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: 
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a1d
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: 
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵   Characteristic UUID: 2a1f
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵     Properties: 
D/[FBP-Android](31667): [FBP] onMethodCall: readRssi
D/BluetoothGatt(31667): readRssi() - device: D4:25:CB:B4:D0:52
D/[FBP-Android](31667): [FBP] onReadRemoteRssi:
D/[FBP-Android](31667): [FBP]   rssi: -53
D/[FBP-Android](31667): [FBP]   status: GATT_SUCCESS (0)
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Saving BleDevice to database: {"id":"D4:25:CB:B4:D0:52","name":"Calming Necklace","address":"D4:25:CB:B4:D0:52","rssi":-53,"deviceType":"necklace","services":[{"uuid":"1800","characteristics":[{"uuid":"2a00","properties":["read"]},{"uuid":"2a01","properties":["read"]}]},{"uuid":"1801","characteristics":[{"uuid":"2a05","properties":["indicate"]}]},{"uuid":"19b10000-e8f2-537e-4f6c-d104768a1214","characteristics":[{"uuid":"19b10001-e8f2-537e-4f6c-d104768a1214","properties":["read","write","notify"]},{"uuid":"2a3b","properties":["read","write","notify"]}]},{"uuid":"19b10000-e8f2-537e-4f6c-d104768a1214","characteristics":[{"uuid":"2a19","properties":[]},{"uuid":"2a1b","properties":[]},{"uuid":"2a1d","properties":[]},{"uuid":"2a1f","properties":[]}]}]}
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Starting service and characteristic discovery for device: D4:25:CB:B4:D0:52
D/[FBP-Android](31667): [FBP] onMethodCall: discoverServices
D/BluetoothGatt(31667): discoverServices() - device: D4:25:CB:B4:D0:52
D/BluetoothGatt(31667): onSearchComplete() = Device=D4:25:CB:B4:D0:52 Status=0
D/[FBP-Android](31667): [FBP] onServicesDiscovered:
D/[FBP-Android](31667): [FBP]   count: 4
D/[FBP-Android](31667): [FBP]   status: 0GATT_SUCCESS
I/flutter (31667): 23:55:50 🔍 [logging_service] 🔍 🔵 Found LED characteristic: 19b10001-e8f2-537e-4f6c-d104768a1214
I/flutter (31667): 23:55:50 🔍 [logging_service] 🔍 🔵 Discovered 4 services for device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:50 🔍 [logging_service] 🔍 🔵 Service UUID: 1800
I/flutter (31667): 23:55:50 🔍 [logging_service] 🔍 🔵 Service UUID: 1801
I/flutter (31667): 23:55:50 🔍 [logging_service] 🔍 🔵 Service UUID: 19b10000-e8f2-537e-4f6c-d104768a1214
I/flutter (31667): 23:55:50 🔍 [logging_service] 🔍 🔵 Service UUID: 19b10000-e8f2-537e-4f6c-d104768a1214
D/[FBP-Android](31667): [FBP] onMethodCall: readRssi
D/BluetoothGatt(31667): readRssi() - device: D4:25:CB:B4:D0:52
D/[FBP-Android](31667): [FBP] onReadRemoteRssi:
D/[FBP-Android](31667): [FBP]   rssi: -53
D/[FBP-Android](31667): [FBP]   status: GATT_SUCCESS (0)
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Service and characteristic discovery completed for device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:50 📘 [logging_service] ℹ️ 🔵 Successfully connected and initialized device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:50 🔍 [app_bloc_observer] 🔍 Transition: Transition { currentState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, true, Connected, 0, null, false), event: BleConnectRequest(BleDevice(id: D4:25:CB:B4:D0:52, name: Calming Necklace, address: D4:25:CB:B4:D0:52, rssi: -51, type: BleDeviceType.necklace, services: 0)), nextState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, false, Connected, 0, null, false) }
I/flutter (31667): 23:55:50 🔍 [app_bloc_observer] 🔍 Change: Change { currentState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, true, Connected, 0, null, false), nextState: BleState({D4:25:CB:B4:D0:52: true}, {}, {}, {}, null, false, Connected, 0, null, false) }
I/flutter (31667): 23:55:50 🔍 [timed_toggle_button] 🔍 Building TimedToggleButton: isLightOn: false, timeLeft: 
I/flutter (31667): 23:55:50 🔍 [settings_screen] 🔍 Showing device info dialog for Calming Necklace
I/flutter (31667): 23:55:50 🔍 [ble_device_info_dialog] 🔍 Building BLE Device Info Dialog for device: D4:25:CB:B4:D0:52
I/flutter (31667): 23:55:50 🔍 [ble_device_info_dialog] 🔍 Device services before dialog: 0
I/flutter (31667): 23:55:50 🔍 [ble_device_info_dialog] 🔍 No services data available for device: D4:25:CB:B4:D0:52
D/[FBP-Android](31667): [FBP] onMethodCall: readRssi
D/BluetoothGatt(31667): readRssi() - device: D4:25:CB:B4:D0:52
D/[FBP-Android](31667): [FBP] onReadRemoteRssi: